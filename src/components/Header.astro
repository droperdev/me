---
const { lang } = Astro.props;
---

<nav
  class="bg-black/50 backdrop-blur-md border-b border-purple-500/20 sticky top-0 z-50"
>
  <div
    class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center"
  >
    <div class="flex items-center space-x-2">
      <svg
        class="text-purple-400 w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
      </svg>
      <span class="text-white font-bold text-xl">droperdev</span>
    </div>
    <button
      id="langToggle"
      data-lang={lang}
      class="flex items-center space-x-2 bg-purple-600/20 hover:bg-purple-600/40 text-white px-4 py-2 rounded-lg transition-all duration-300 border border-purple-500/30"
    >
      <svg
        class="w-5 h-5"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
        ></path>
      </svg>
      <span class="font-medium">{lang === "es" ? "EN" : "ES"}</span>
    </button>
  </div>
</nav>

<script>
  const button = document.getElementById("langToggle");
  button?.addEventListener("click", () => {
    const currentLang = button.dataset.lang;
    const newLang = currentLang === "es" ? "en" : "es";
    window.location.href = newLang === "en" ? "/en" : "/";
  });
</script>
